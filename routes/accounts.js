var express = require("express");

var router = express.Router();

const transactionData = [
  {
    sourceAccount: 6534454617,
    destinationAccount: 6039548046,
    amount: "500,000,000",
    date: "1399/04/23",
    transactionID: 153348811341,
    type: "پایا",
  },
  {
    sourceAccount: 6039548046,
    destinationAccount: 5287517379,
    amount: "100,000,000",
    date: "1399/04/23",
    transactionID: 192524206627,
    type: "پایا",
  },
  {
    sourceAccount: 6039548046,
    destinationAccount: 5718373092,
    amount: "200,000,000",
    date: "1399/04/27",
    transactionID: 113480622054,
    type: "پایا",
  },
  {
    sourceAccount: 6039548046,
    destinationAccount: 9862369812,
    amount: "300,000,000",
    date: "1399/04/28",
    transactionID: 114556773378,
    type: "پایا",
  },
  {
    sourceAccount: 5287517379,
    destinationAccount: 1205418051,
    amount: "50,000,000",
    date: "1399/04/29",
    transactionID: 185136982986,
    type: "کارت به کارت",
  },
  {
    sourceAccount: 9862369812,
    destinationAccount: 3714493428,
    amount: "350,000,000",
    date: "1399/04/30",
    transactionID: 197303042408,
    type: "پایا",
  },
  {
    sourceAccount: 5718373092,
    destinationAccount: 3714493428,
    amount: "2,000,000,000",
    date: "1399/04/31",
    transactionID: 173993949660,
    type: "ساتنا",
  },
  {
    sourceAccount: 1205418051,
    destinationAccount: 7434776097,
    amount: "800,000,000",
    date: "1399/04/31",
    transactionID: 107213392290,
    type: "پایا",
  },
  {
    sourceAccount: 3714493428,
    destinationAccount: 7434776097,
    amount: "1,000,000,000",
    date: "1399/04/31",
    transactionID: 131554897007,
    type: "ساتنا",
  },
  {
    sourceAccount: 4727992815,
    destinationAccount: 7434776097,
    amount: "2,000,000,000",
    date: "1399/05/01",
    transactionID: 163090175418,
    type: "ساتنا",
  },
  {
    sourceAccount: 7434776097,
    destinationAccount: 3084026274,
    amount: "4,000,000,000",
    date: "1399/05/02",
    transactionID: 126328028392,
    type: "ساتنا",
  },
  {
    sourceAccount: 4727992815,
    destinationAccount: 3084026274,
    amount: "200,000,000",
    date: "1399/05/03",
    transactionID: 133232291681,
    type: "پایا",
  },
];

const accountsData = [
  {
    accountID: 6534454617,
    cardID: "6104335000000190",
    sheba: "IR120778801496000000198",
    accountType: "پس انداز",
    branchTelephone: 55638667,
    branchAddress: "تهران-خیابان خیام-بالاتر از چهارراه گلوبندک",
    branchName: "گلوبندک",
    ownerName: "افسر",
    ownerFamilyName: "طباطبایی",
    ownerID: 1227114110,
  },
  {
    accountID: 4000000028,
    cardID: "6037699000000020",
    sheba: "IR033880987114000000028",
    accountType: "سپرده",
    branchTelephone: 77547230,
    branchAddress: "تهران-خيابان شهيد مدنی-نبش خيابان اميرشرفی",
    branchName: "امیر شرفی",
    ownerName: "ایرج",
    ownerFamilyName: "مددی",
    ownerID: 3658507956,
  },
  {
    accountID: 3000000406,
    cardID: "6221060000000400",
    sheba: "IR248204855973000000406",
    accountType: "سپرده",
    branchTelephone: 22760489,
    branchAddress:
      "تهران-خيابان دولت-خيابان ديباجی جنوبی-نبش خيابان شهيد عرفاتی-شماره 82",
    branchName: "ديباجی جنوبی",
    ownerName: "ترانه",
    ownerFamilyName: "برزگری",
    ownerID: 233079137,
  },
  {
    accountID: 4000000290,
    cardID: "6219867000000290",
    sheba: "IR806364680364000000290",
    accountType: "جاری",
    branchTelephone: 22960013,
    branchAddress:
      "تهران-چهارراه پاسداران-میدان حسین‌آباد-ساختمان مهدی-پلاک 120",
    branchName: "میدان حسین آباد",
    ownerName: "ترمه",
    ownerFamilyName: "نصیری",
    ownerID: 3472758002,
  },
  {
    accountID: 6039548046,
    cardID: "6104333000000360",
    sheba: "IR437427012782000000361",
    accountType: "پس انداز",
    branchTelephone: 33502628,
    branchAddress: "تهران-خیابان ری-نرسیده به سه‌ راه امین حضور-جنب کوچه آبشار",
    branchName: "آبشار",
    ownerName: "ارژنگ",
    ownerFamilyName: "مرتضوی",
    ownerID: 8260281348,
  },
  {
    accountID: 9000000331,
    cardID: "6221062000000330",
    sheba: "IR382666702669000000331",
    accountType: "پس انداز",
    branchTelephone: 22237244,
    branchAddress: "تهران-خيابان شريعتی-خيابان موسی وند-خيابان کريمی-شماره 151",
    branchName: "خيابان بوعلی",
    ownerName: "تینا",
    ownerFamilyName: "اشتیانی",
    ownerID: 9650799964,
  },
  {
    accountID: 2000000307,
    cardID: "5028064000000300",
    sheba: "IR515705817182000000307",
    accountType: "سپرده",
    branchTelephone: 77728343,
    branchAddress: "تهران-تهرانپارس-خیابان رشید-نبش کوچه 148 غربی-پلاک 119",
    branchName: "تهرانپارس - رشید",
    ownerName: "ارین",
    ownerFamilyName: "نجفی",
    ownerID: 2383698300,
  },
  {
    accountID: 3000000352,
    cardID: "6104335000000350",
    sheba: "IR447139041943000000352",
    accountType: "جاری",
    branchTelephone: 55898061,
    branchAddress: "تهران-خیابان 15 خرداد-بازار عباس آباد-سرای آزادی-طبقه دوم",
    branchName: "سرای آزادی",
    ownerName: "حمید",
    ownerFamilyName: "یثربی",
    ownerID: 1782886202,
  },
  {
    accountID: 8000000459,
    cardID: "6395999000000450",
    sheba: "IR999469685408000000459",
    accountType: "جاری",
    branchTelephone: 77227190,
    branchAddress:
      "تهران-خیابان فرجام شرقی-بین سراج و چهارراه ولیعصر-جنب گزینش ناجا-پلاک 1/514",
    branchName: "فرجام شرقی",
    ownerName: "خسرو",
    ownerFamilyName: "صفوی",
    ownerID: 5674868748,
  },
  {
    accountID: 8000000402,
    cardID: "6393468000000400",
    sheba: "IR666786156808000000402",
    accountType: "جاری",
    branchTelephone: 66571376,
    branchAddress:
      "تهران-خیابان امیر آباد شمالی-روبروی پمپ بنزین-نبش کوچه اشراقی",
    branchName: "امیر آباد شمالی",
    ownerName: "دارا",
    ownerFamilyName: "زمان زاده",
    ownerID: 6935043332,
  },
  {
    accountID: 5287517379,
    cardID: "6219867000000430",
    sheba: "IR768572504519000000439",
    accountType: "سپرده",
    branchTelephone: 55481172,
    branchAddress: "تهران-خيابان کارگرجنوبی-ضلع شمال شرقی ميدان قزوين-پلاک 18",
    branchName: "میدان قزوین",
    ownerName: "دریا",
    ownerFamilyName: "حسین زاده",
    ownerID: 9823618218,
  },
  {
    accountID: 9862369812,
    cardID: "6104336000000280",
    sheba: "IR555340066618000000280",
    accountType: "جاری",
    branchTelephone: 88556268,
    branchAddress:
      "تهران-خیابان شهید مطهری-نرسیده به خیابان قائم مقام فراهانی-پلاک 257",
    branchName: "استاد مطهری",
    ownerName: "کامران",
    ownerFamilyName: "رضایی",
    ownerID: 2684955349,
  },
  {
    accountID: 5718373092,
    cardID: "6221065000000320",
    sheba: "IR254972538744000000320",
    accountType: "پس انداز",
    branchTelephone: 66362188,
    branchAddress: "تهران-خيابان آزادی-نبش خيابان آذربايجان-شماره 332",
    branchName: "آزادی",
    ownerName: "کیانوش",
    ownerFamilyName: "قاضی",
    ownerID: 1181323213,
  },
  {
    accountID: 1205418051,
    cardID: "6104332000000060",
    sheba: "IR782956669947000000060",
    accountType: "سپرده",
    branchTelephone: 33769073,
    branchAddress: "تهران-شهرری-شهرک دولت آباد-فلکه اول",
    branchName: "دولت آباد",
    ownerName: "ژیلا",
    ownerFamilyName: "زمان زاده",
    ownerID: 4398373386,
  },
  {
    accountID: 1000000236,
    cardID: "6037697000000230",
    sheba: "IR311031297571000000236",
    accountType: "جاری",
    branchTelephone: 55707330,
    branchAddress: "تهران-خیابان قزوین-نرسیده به دو راهی قپان-پلاک 843",
    branchName: "امین الملک",
    ownerName: "ساناز",
    ownerFamilyName: "حسن پور",
    ownerID: 8655501965,
  },
  {
    accountID: 3714493428,
    cardID: "6280233000000450",
    sheba: "IR590757191926000000453",
    accountType: "سپرده",
    branchTelephone: 55746611,
    branchAddress: "تهران-خیابان قزوین-دوراهی‌قپان-خیابان فرهنگ-پلاک 945",
    branchName: "اذری",
    ownerName: "ستایش",
    ownerFamilyName: "سالاری",
    ownerID: 8083189094,
  },
  {
    accountID: 7000000069,
    cardID: "5041728000000060",
    sheba: "IR537707653587000000069",
    accountType: "پس انداز",
    branchTelephone: 33136732,
    branchAddress: "تهران-خیابان 17 شهریور-پایین تر از پل آهنگ-پلاک 954",
    branchName: "17شهریور",
    ownerName: "نقی",
    ownerFamilyName: "طباطبایی",
    ownerID: 7518497901,
  },
  {
    accountID: 4727992815,
    cardID: "5028064000000040",
    sheba: "IR129871182765000000045",
    accountType: "جاری",
    branchTelephone: 55601544,
    branchAddress: "تهران-خیابان مولوی غربی-بعد از میدان محمدیه-پلاک 744",
    branchName: "مولوی غربی",
    ownerName: "نگار",
    ownerFamilyName: "احمدی",
    ownerID: 1247145263,
  },
  {
    accountID: 9000000487,
    cardID: "5028066000000480",
    sheba: "IR541008141089000000487",
    accountType: "سپرده",
    branchTelephone: 66067052,
    branchAddress:
      "تهران-خیابان آزادی-ما بین خیابان شهیدان و خیابان جیحون-ابتدای کوچه مشعوف-پلاک 378",
    branchName: "آزادی - یادگار",
    ownerName: "مهتاب",
    ownerFamilyName: "قاضی",
    ownerID: 466444575,
  },
  {
    accountID: 7434776097,
    cardID: "6219869000000180",
    sheba: "IR955348247339000000184",
    accountType: "سپرده",
    branchTelephone: 22234427,
    branchAddress: "تهران-بلوار 35 متری قیطریه-روبروی پارک قیطریه-پلاک 85",
    branchName: "قیطریه",
    ownerName: "بامداد",
    ownerFamilyName: "برزگری",
    ownerID: 7333935716,
  },
  {
    accountID: 7000000021,
    cardID: "6037999000000020",
    sheba: "IR357530402617000000021",
    accountType: "جاری",
    branchTelephone: 55000069,
    branchAddress: "تهران-خانی آباد نو-خیابان شهرداری-نبش خیابان مینا",
    branchName: "خانی آباد نو",
    ownerName: "بهناز",
    ownerFamilyName: "اشتیانی",
    ownerID: 3184365126,
  },
  {
    accountID: 3084026274,
    cardID: "6104333000000000",
    sheba: "IR378370321425000000008",
    accountType: "پس انداز",
    branchTelephone: 66057406,
    branchAddress:
      "تهران-خیابان آزادی-مقابل دانشگاه صنعتی شریف-نبش کوچه حیدرتاش-پلاک 240",
    branchName: "آزادی",
    ownerName: "انوش",
    ownerFamilyName: "ابراهیمی",
    ownerID: 2746339440,
  },
  {
    accountID: 4000000400,
    cardID: "5028063000000400",
    sheba: "IR508577914084000000400",
    accountType: "جاری",
    branchTelephone: 88717727,
    branchAddress:
      "تهران-خیابان احمد قصیر-بین خیابان پنجم و خیابان هفتم-پلاک 16",
    branchName: "احمد قصیر",
    ownerName: "پرهام",
    ownerFamilyName: "عسگرپور",
    ownerID: 5125488187,
  },
  {
    accountID: 1000000358,
    cardID: "5028067000000350",
    sheba: "IR463499058601000000358",
    accountType: "سپرده",
    branchTelephone: 56696077,
    branchAddress:
      "تهران-اسلامشهر‏-ابتدای بیست متری امام خمینی (ره)-جنب مسجد امام نقی(ع)",
    branchName: "اسلامشهر",
    ownerName: "پیروز",
    ownerFamilyName: "شکاری",
    ownerID: 9710095137,
  },
  {
    accountID: 8000000190,
    cardID: "6221064000000190",
    sheba: "IR401698532368000000190",
    accountType: "جاری",
    branchTelephone: 46889990,
    branchAddress: "تهران-بلوار انقلاب-نبش خيابان کشاورز",
    branchName: "شهر قدس",
    ownerName: "مانی",
    ownerFamilyName: "عبدلی",
    ownerID: 8320298705,
  },
  {
    accountID: 9000000405,
    cardID: "6395995000000400",
    sheba: "IR500379357299000000405",
    accountType: "پس انداز",
    branchTelephone: 22844370,
    branchAddress: "تهران-خیابان خواجه عبدالله انصاری-نبش کوچه ششم-پلاک 110",
    branchName: "خواجه عبدالله انصاری",
    ownerName: "شیرین",
    ownerFamilyName: "ابراهیم نژاد",
    ownerID: 4031019294,
  },
];

/* GET home page. */
router.get("/", function (req, res, next) {
  const accountID = req.query["id"];

  res.send(accountsData.find((x) => x.accountID == accountID));
});

router.post("/incoming", function (req, res, next) {
  const accountID = req.body["id"];
  console.log(req.body);
  console.log(transactionData.filter((x) => x.destinationAccount == accountID));
  res.send(transactionData.filter((x) => x.destinationAccount == accountID));
});

router.post("/outgoing", function (req, res, next) {
  const accountID = req.body["id"];
  console.log(req.body);

  res.send(transactionData.filter((x) => x.sourceAccount == accountID));
});

module.exports = router;
